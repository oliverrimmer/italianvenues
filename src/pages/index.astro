---
import BaseLayout from '../layouts/BaseLayout.astro';

// Featured venue cards - rich venue information
const featuredCards = [
  { 
    name: "La Posta Vecchia", 
    setting: "Seaside Palace", 
    location: "Ladispoli, Rome",
    region: "Rome",
    usp: "16th-century villa turned luxury hotel on a private beach with Roman ruins beneath the spa",
    maxGuests: 120,
    priceIndicator: "€€€€",
    imgSrc: 'https://imagedelivery.net/SQx9MVPmzIo4YN8gmsdPow/9488d2d6-d8c4-47df-43c9-1812b9d41a00/heroxl', 
    link: '/venues/la-posta-vecchia',
    hasDetailPage: true
  },
  { 
    name: 'Mezzatorre Hotel & Thermal Spa', 
    setting: "Island Castle & Spa", 
    location: "Ischia Island",
    region: "Ischia",
    usp: "16th-century Aragonese watchtower on volcanic island with thermal spa and private beach",
    maxGuests: 200,
    priceIndicator: "€€€€",
    imgSrc: 'https://imagedelivery.net/SQx9MVPmzIo4YN8gmsdPow/40f741b0-ff15-4046-4b89-d8c83df8bd00/heroxl', 
    link: '/venues/mezzatorre-hotel-thermal-spa',
    hasDetailPage: true
  },
  { 
    name: 'Hotel Il Pellicano', 
    setting: "Seaside Resort", 
    location: "Porto Ercole, Tuscany",
    region: "Tuscany",
    usp: "Legendary 1960s clifftop retreat with 1* Michelin dining and private beach access",
    maxGuests: 120,
    priceIndicator: "€€€€",
    imgSrc: 'https://imagedelivery.net/SQx9MVPmzIo4YN8gmsdPow/fafd9066-931f-4689-87a1-cd118c268f00/heroxl', 
    link: '/venues/hotel-il-pellicano',
    hasDetailPage: true
  },
];

// Location cards - 6 locations (ordered for 2x3 grid: Row1, Row2, Row3)
const allLocationCards = [
  { name: 'Amalfi Coast', tag: 'Coastal', imgSrc: 'https://imagedelivery.net/SQx9MVPmzIo4YN8gmsdPow/622038ec-6d45-4042-e340-2db5d7319000/cardlg', link: '/locations/amalfi-coast' },
  { name: 'Lake Como', tag: 'Lakeside', imgSrc: 'https://imagedelivery.net/SQx9MVPmzIo4YN8gmsdPow/7e0d31b3-2208-45f6-752c-9f19da879700/cardlg', link: '/locations/lake-como' },
  { name: 'Tuscany', tag: 'Vineyards', imgSrc: 'https://imagedelivery.net/SQx9MVPmzIo4YN8gmsdPow/1b934f50-6f77-4c03-0ddc-fde1fcdf3d00/cardlg', link: '/locations/tuscany' },
  { name: 'Rome', tag: 'Historic', imgSrc: 'https://imagedelivery.net/SQx9MVPmzIo4YN8gmsdPow/6dbda489-8fea-43f2-98fe-3f5ec4525500/cardlg', link: '/locations/rome' },
  { name: 'Puglia', tag: 'Authentic', imgSrc: 'https://imagedelivery.net/SQx9MVPmzIo4YN8gmsdPow/828dceeb-1863-4026-e6f5-842bdc520d00/cardlg', link: '/locations/puglia' },
  { name: 'Umbria', tag: 'Green Heart', imgSrc: 'https://imagedelivery.net/SQx9MVPmzIo4YN8gmsdPow/6f57ad10-4935-41aa-f894-c674a6781200/cardlg', link: '/locations/umbria' },
];
---

<BaseLayout>
  <!-- HERO - Full screen dark image with centered text -->
  <section class="relative h-screen bg-black">
    <img
      src="https://imagedelivery.net/SQx9MVPmzIo4YN8gmsdPow/4500557d-7c6d-4894-c0b0-bb41e39cf900/heroxl"
      alt="Italian venue"
      class="absolute inset-0 w-full h-full object-cover opacity-70"
      fetchpriority="high"
      loading="eager"
    />
    <div class="absolute inset-0 bg-black/30"></div>
    
    <div class="relative z-10 h-full flex flex-col items-center justify-center px-4 md:px-6 gap-6 md:gap-8">
      <h1 class="heading-h1 text-white text-center px-4">
        Italy's most exclusive venues.
      </h1>
      
      <!-- Elegant search bar - visible on all devices -->
      <div class="w-full max-w-2xl px-2">
        <form id="hero-search-form" class="relative">
          <input
            type="text"
            id="hero-search-input"
            placeholder="Try: Tuscany 100 guests"
            class="w-full px-4 md:px-6 py-3 md:py-4 bg-white/95 backdrop-blur-sm text-zinc-900 placeholder-zinc-500 text-sm md:text-base rounded-lg shadow-xl border-2 border-transparent focus:border-[#a78656] focus:outline-none focus:ring-2 focus:ring-[#a78656]/50 transition-all duration-200"
          />
          <button
            type="submit"
            class="absolute right-2 md:right-2 top-1/2 -translate-y-1/2 p-2 text-zinc-400 hover:text-[#a78656] transition-colors"
            aria-label="Search"
          >
            <svg class="w-5 h-5 md:w-6 md:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>

    <!-- Get in Touch button at bottom center -->
    <div class="absolute bottom-8 md:bottom-12 left-1/2 -translate-x-1/2 z-20 px-4">
      <a href="/contact" class="inline-flex items-center justify-center px-6 md:px-8 py-3 md:py-4 bg-black/80 backdrop-blur-sm border-2 border-[#a78656] text-[#a78656] font-medium hover:bg-[#a78656] hover:text-white transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-[#a78656] rounded-lg shadow-lg min-w-[200px] md:min-w-0">
        Get in Touch
      </a>
    </div>
  </section>

  <!-- FEATURED VENUES - Rich venue cards -->
  <section id="featured-venues" class="bg-white pt-20 md:pt-28 pb-12 md:pb-16">
    <div class="container mx-auto px-6 max-w-[1400px]">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12">
        {featuredCards.map((venue) => (
          <a 
            href={venue.link} 
            class="group block bg-zinc-50 rounded-2xl overflow-hidden border border-zinc-200 hover:border-[#a78656] transition-all hover:shadow-2xl"
          >
            <div class="relative h-64 overflow-hidden">
              <img 
                src={venue.imgSrc} 
                alt={`${venue.name} - ${venue.setting} wedding venue in ${venue.location}`}
                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                loading="lazy"
                decoding="async"
              />
              {venue.hasDetailPage && (
                <div class="absolute top-4 right-4 px-3 py-1.5 bg-[#a78656] text-white text-xs font-semibold rounded-full shadow-lg">
                  View Details
                </div>
              )}
              <div class="absolute top-4 left-4 px-3 py-1.5 bg-white/90 backdrop-blur-sm text-zinc-900 text-xs font-medium rounded-full">
                {venue.region}
              </div>
            </div>
            
            <div class="p-6">
              <h3 class="text-xl font-semibold mb-2 text-zinc-900 group-hover:text-[#a78656] transition-colors">
                {venue.name}
              </h3>
              <p class="text-sm text-zinc-600 mb-3 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
                {venue.location}
              </p>
              <p class="text-zinc-700 text-sm mb-4 leading-relaxed line-clamp-2">
                {venue.usp}
              </p>
              <div class="flex items-center justify-between pt-4 border-t border-zinc-200">
                <span class="text-sm text-zinc-600">Up to {venue.maxGuests} guests</span>
                <span class="text-sm font-semibold text-[#a78656]">{venue.priceIndicator}</span>
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- TESTIMONIALS SECTION -->
  <section class="bg-zinc-50 py-20 md:py-28">
    <div class="container mx-auto px-6 max-w-7xl">
      <div class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-serif text-zinc-900 mb-4">What Couples Say</h2>
        <p class="text-lg text-zinc-600 max-w-2xl mx-auto">
          Real experiences from couples who found their dream Italian wedding venue through ItalianVenues
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Testimonial 1 -->
        <div class="bg-white p-8 rounded-2xl shadow-sm border border-zinc-200 hover:shadow-lg transition-all duration-300">
          <div class="flex items-center gap-1 mb-4">
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
          </div>
          <p class="text-zinc-700 leading-relaxed mb-6 italic">
            "ItalianVenues made finding our dream Tuscan venue effortless. The curated selection saved us months of research, and the team's knowledge of each property was invaluable. La Posta Vecchia exceeded every expectation."
          </p>
          <div class="flex items-center gap-3 pt-4 border-t border-zinc-200">
            <div class="w-12 h-12 bg-[#a78656] rounded-full flex items-center justify-center">
              <span class="text-white font-semibold text-lg">SJ</span>
            </div>
            <div>
              <p class="font-semibold text-zinc-900">Sarah & James</p>
              <p class="text-sm text-zinc-600">Married in Tuscany, June 2024</p>
            </div>
          </div>
        </div>

        <!-- Testimonial 2 -->
        <div class="bg-white p-8 rounded-2xl shadow-sm border border-zinc-200 hover:shadow-lg transition-all duration-300">
          <div class="flex items-center gap-1 mb-4">
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
          </div>
          <p class="text-zinc-700 leading-relaxed mb-6 italic">
            "From our first enquiry to our wedding day, the service was exceptional. The detailed venue information and direct connections meant we could make decisions with confidence. Our Lake Como wedding was everything we imagined and more."
          </p>
          <div class="flex items-center gap-3 pt-4 border-t border-zinc-200">
            <div class="w-12 h-12 bg-[#a78656] rounded-full flex items-center justify-center">
              <span class="text-white font-semibold text-lg">EM</span>
            </div>
            <div>
              <p class="font-semibold text-zinc-900">Emily & Michael</p>
              <p class="text-sm text-zinc-600">Married at Lake Como, September 2024</p>
            </div>
          </div>
        </div>

        <!-- Testimonial 3 -->
        <div class="bg-white p-8 rounded-2xl shadow-sm border border-zinc-200 hover:shadow-lg transition-all duration-300">
          <div class="flex items-center gap-1 mb-4">
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
            <svg class="w-5 h-5 text-[#a78656]" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
            </svg>
          </div>
          <p class="text-zinc-700 leading-relaxed mb-6 italic">
            "Planning a destination wedding from abroad felt overwhelming until we found ItalianVenues. Their expertise and carefully selected venues gave us peace of mind. Hotel Il Pellicano was perfection—intimate, luxurious, and unforgettable."
          </p>
          <div class="flex items-center gap-3 pt-4 border-t border-zinc-200">
            <div class="w-12 h-12 bg-[#a78656] rounded-full flex items-center justify-center">
              <span class="text-white font-semibold text-lg">AL</span>
            </div>
            <div>
              <p class="font-semibold text-zinc-900">Alexandra & Luca</p>
              <p class="text-sm text-zinc-600">Married in Tuscany, May 2024</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- DISCOVERY SECTION - All 6 location cards with animated background transition -->
  <section class="bg-white transition-colors duration-1000" id="discovery-section">
    <div class="container mx-auto px-8 md:px-12 lg:px-16 max-w-[1800px] pt-8 md:pt-12 pb-16 md:pb-24">
              <h2 class="text-4xl md:text-5xl lg:text-6xl font-semibold mb-12 md:mb-16 text-left transition-colors duration-1000 leading-tight font-display" id="discovery-title">
        Your Italian venue discovery starts now.
      </h2>
      
      <!-- Row 1: Amalfi Coast, Lake Como -->
      <div class="location-card-row grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 lg:gap-12 mb-6 md:mb-8 lg:mb-12">
        {allLocationCards.slice(0, 2).map((location, index) => (
          <a href={location.link} class="location-card block relative aspect-[16/10] rounded-lg overflow-hidden transition-all duration-700 ease-out">
            <img src={location.imgSrc} alt={location.name} class="absolute inset-0 w-full h-full object-cover" loading="lazy" decoding="async" />
            <div class="absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/70"></div>
            
            <!-- Location name at TOP - Porsche style -->
            <div class="absolute top-0 left-0 right-0 p-6 md:p-10">
              <h3 class="text-white text-4xl md:text-5xl lg:text-6xl font-semibold tracking-tight font-emitha">
                {location.name}
              </h3>
            </div>
            
            <!-- Tag and Explore at bottom -->
            <div class="absolute bottom-0 left-0 right-0 p-6 md:p-10">
              <div class="flex items-end justify-between">
                <span class="text-xs font-medium text-white bg-white/15 px-3 py-1.5 rounded backdrop-blur-sm">{location.tag}</span>
                <div class="explore-indicator flex items-center gap-2 text-white opacity-0 transition-opacity duration-300">
                  <span class="text-sm font-light">Explore</span>
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </div>
              </div>
            </div>
          </a>
        ))}
      </div>

      <!-- Trigger point for background transition to black (after row 1) -->
      <div id="transition-trigger" class="h-px my-4 md:my-6"></div>
      
      <!-- Row 2: Tuscany, Rome -->
      <div class="location-card-row grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 lg:gap-12 mb-6 md:mb-8 lg:mb-12">
        {allLocationCards.slice(2, 4).map((location) => (
          <a href={location.link} class="location-card block relative aspect-[16/10] rounded-lg overflow-hidden transition-all duration-700 ease-out">
            <img src={location.imgSrc} alt={location.name} class="absolute inset-0 w-full h-full object-cover" loading="lazy" decoding="async" />
            <div class="absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/70"></div>
            
            <!-- Location name at TOP - Porsche style -->
            <div class="absolute top-0 left-0 right-0 p-6 md:p-10">
              <h3 class="text-white text-4xl md:text-5xl lg:text-6xl font-semibold tracking-tight font-emitha">
                {location.name}
              </h3>
            </div>
            
            <!-- Tag and Explore at bottom -->
            <div class="absolute bottom-0 left-0 right-0 p-6 md:p-10">
              <div class="flex items-end justify-between">
                <span class="text-xs font-medium text-white bg-white/15 px-3 py-1.5 rounded backdrop-blur-sm">{location.tag}</span>
                <div class="explore-indicator flex items-center gap-2 text-white opacity-0 transition-opacity duration-300">
                  <span class="text-sm font-light">Explore</span>
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </div>
              </div>
            </div>
          </a>
        ))}
      </div>

      <!-- Row 3: Puglia, Umbria -->
      <div class="location-card-row grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 lg:gap-12">
        {allLocationCards.slice(4, 6).map((location) => (
          <a href={location.link} class="location-card block relative aspect-[16/10] rounded-lg overflow-hidden transition-all duration-700 ease-out">
            <img src={location.imgSrc} alt={location.name} class="absolute inset-0 w-full h-full object-cover" loading="lazy" decoding="async" />
            <div class="absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/70"></div>
            
            <!-- Location name at TOP - Porsche style -->
            <div class="absolute top-0 left-0 right-0 p-6 md:p-10">
              <h3 class="text-white text-4xl md:text-5xl lg:text-6xl font-semibold tracking-tight font-emitha">
                {location.name}
              </h3>
            </div>
            
            <!-- Tag and Explore at bottom -->
            <div class="absolute bottom-0 left-0 right-0 p-6 md:p-10">
              <div class="flex items-end justify-between">
                <span class="text-xs font-medium text-white bg-white/15 px-3 py-1.5 rounded backdrop-blur-sm">{location.tag}</span>
                <div class="explore-indicator flex items-center gap-2 text-white opacity-0 transition-opacity duration-300">
                  <span class="text-sm font-light">Explore</span>
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </div>
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- SEARCH SECTION -->
  <section class="bg-white py-20 md:py-28">
    <div class="container mx-auto px-6 max-w-3xl text-center">
      <h2 class="heading-h2 font-semibold mb-4">Find your perfect venue.</h2>
      <p class="text-lg text-zinc-600 mb-10">Search by location, capacity, or style.</p>
      
      <form id="venue-search-form" class="relative">
        <input
          id="venue-search-input"
          type="text"
          placeholder="e.g. Tuscany, 150 guests, coastal villa"
          class="w-full px-6 md:px-8 py-6 pr-28 md:pr-40 text-base md:text-lg font-medium rounded-full border-2 border-zinc-200 shadow-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"
        />
        <button
          type="submit"
          class="absolute right-2 md:right-3 top-2 md:top-3 bottom-2 md:bottom-3 px-6 md:px-8 bg-black text-white rounded-full hover:bg-zinc-800 transition-colors text-sm md:text-base font-medium shadow-lg"
        >
          Search
        </button>
      </form>
    </div>
  </section>
</BaseLayout>

<script>
  // Menu management
  window.addEventListener('openMenu', () => {
    document.documentElement.style.overflow = 'hidden';
    document.body.style.overflow = 'hidden';
  });
  
  window.addEventListener('closeMenu', () => {
    document.documentElement.style.overflow = '';
    document.body.style.overflow = '';
  });

  // Smart Search Parser - Parses multiple criteria and redirects accordingly
  function handleSearch(query) {
    query = query.toLowerCase().trim();
    
    if (!query) {
      window.location.href = '/venues';
      return;
    }

    // Location keywords mapping - map to filter values, not URLs
    const locationKeywords = {
      'tuscany': 'Tuscany',
      'tuscan': 'Tuscany',
      'florence': 'Tuscany',
      'siena': 'Tuscany',
      'chianti': 'Tuscany',
      'amalfi': 'Amalfi Coast',
      'positano': 'Amalfi Coast',
      'ravello': 'Amalfi Coast',
      'sorrento': 'Amalfi Coast',
      'como': 'Lake Como',
      'bellagio': 'Lake Como',
      'varenna': 'Lake Como',
      'rome': 'Rome',
      'lazio': 'Rome',
      'roman': 'Rome',
      'puglia': 'Puglia',
      'umbria': 'Umbria'
    };

    // Style/venue type keywords mapping
    const styleKeywords = {
      'luxury': 'luxury',
      'luxurious': 'luxury',
      'exclusive': 'luxury',
      'michelin': 'luxury',
      'seaside': 'seaside',
      'coastal': 'seaside',
      'beach': 'seaside',
      'sea': 'seaside',
      'ocean': 'seaside',
      'castle': 'castle',
      'villa': 'villa',
      'hotel': 'luxury'
    };

    // Parse all criteria from query
    const foundCriteria = {
      location: null,
      capacity: null,
      style: null
    };

    // Check for location
    for (const [keyword, region] of Object.entries(locationKeywords)) {
      if (query.includes(keyword)) {
        foundCriteria.location = region;
        break;
      }
    }

    // Check for style/venue type
    for (const [keyword, style] of Object.entries(styleKeywords)) {
      if (query.includes(keyword)) {
        foundCriteria.style = style;
        break;
      }
    }

    // Extract capacity number
    const capacityMatch = query.match(/(\d+)/);
    if (capacityMatch) {
      const capacity = parseInt(capacityMatch[1]);
      if (capacity >= 50) {
        if (capacity <= 100) foundCriteria.capacity = '50-100';
        else if (capacity <= 150) foundCriteria.capacity = '100-150';
        else if (capacity <= 200) foundCriteria.capacity = '150-200';
        else foundCriteria.capacity = '200+';
      }
    }

    // Build redirect URL based on what was found
    const criteriaCount = Object.values(foundCriteria).filter(v => v !== null).length;

    // If multiple criteria found, go to venues page with filters
    if (criteriaCount > 1) {
      const params = new URLSearchParams();
      if (foundCriteria.location) params.append('region', foundCriteria.location);
      if (foundCriteria.capacity) params.append('capacity', foundCriteria.capacity);
      if (foundCriteria.style) params.append('style', foundCriteria.style);
      window.location.href = `/venues?${params.toString()}`;
      return;
    }

    // If only location found, go to location page
    if (foundCriteria.location) {
      const locationSlugMap = {
        'Tuscany': '/locations/tuscany',
        'Amalfi Coast': '/locations/amalfi-coast',
        'Lake Como': '/locations/lake-como',
        'Rome': '/locations/rome',
        'Puglia': '/locations/puglia',
        'Umbria': '/locations/umbria'
      };
      window.location.href = locationSlugMap[foundCriteria.location] || '/venues';
      return;
    }

    // If only capacity found, go to venues with capacity filter
    if (foundCriteria.capacity) {
      window.location.href = `/venues?capacity=${foundCriteria.capacity}`;
      return;
    }

    // If only style found, go to style page or venues with style filter
    if (foundCriteria.style) {
      if (foundCriteria.style === 'luxury') {
        window.location.href = '/styles/luxury';
      } else if (foundCriteria.style === 'seaside') {
        window.location.href = '/styles/seaside';
      } else {
        window.location.href = `/venues?style=${foundCriteria.style}`;
      }
      return;
    }

    // Fallback: redirect to venues page with search query
    window.location.href = `/venues?q=${encodeURIComponent(query)}`;
  }

  // Hero search form handler
  const heroSearchForm = document.getElementById('hero-search-form');
  const heroSearchInput = document.getElementById('hero-search-input');

  if (heroSearchForm && heroSearchInput) {
    // Set mobile-optimized placeholder
    const updatePlaceholder = () => {
      if (window.innerWidth < 768) {
        heroSearchInput.placeholder = "Try: Tuscany 100 guests";
      } else {
        heroSearchInput.placeholder = "Try: Tuscany 100 guests • Amalfi Coast luxury • Lake Como villa";
      }
    };
    
    updatePlaceholder();
    window.addEventListener('resize', updatePlaceholder);

    heroSearchForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const query = heroSearchInput.value.trim();
      handleSearch(query);
    });
  }

  // Porsche-style background transition - triggers at specific point
  const discoverySection = document.getElementById('discovery-section');
  const discoveryTitle = document.getElementById('discovery-title');
  const transitionTrigger = document.getElementById('transition-trigger');

  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          // Transition to black background
          discoverySection?.classList.remove('bg-white');
          discoverySection?.classList.add('bg-black');
          discoveryTitle?.classList.remove('text-black');
          discoveryTitle?.classList.add('text-white');
        } else if (entry.boundingClientRect.top > 0) {
          // Only transition back to white when scrolling up (trigger is below viewport)
          discoverySection?.classList.remove('bg-black');
          discoverySection?.classList.add('bg-white');
          discoveryTitle?.classList.remove('text-white');
          discoveryTitle?.classList.add('text-black');
        }
      });
    },
    {
      threshold: 0,
      rootMargin: '0px' // Trigger exactly when the trigger point hits the viewport
    }
  );

  if (transitionTrigger) {
    observer.observe(transitionTrigger);
  }
</script>

<style>
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Porsche-style card expansion effect - width only, height stays fixed */
  @media (min-width: 768px) {
    .location-card-row {
      display: flex;
      gap: 1.5rem;
      height: 500px; /* Fixed height - only width will change on hover */
    }

    /* Cards have equal flex by default */
    .location-card {
      flex: 1 1 0%;
      min-width: 0;
      height: 100%; /* Fill the fixed row height */
      aspect-ratio: auto; /* Override aspect ratio since we're using fixed height */
      transition: flex 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                  opacity 0.7s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* When hovering a card, it expands width only - very subtle */
    .location-card-row:has(.location-card:hover) .location-card:hover {
      flex: 1.1 1 0%;
      z-index: 10;
    }

    /* All other cards in the same row shrink width slightly */
    .location-card-row:has(.location-card:hover) .location-card:not(:hover) {
      flex: 0.9 1 0%;
      opacity: 0.85;
    }

    /* Show explore indicator on hover */
    .location-card:hover .explore-indicator {
      opacity: 1 !important;
    }

    /* Image fills the card and crops appropriately */
    .location-card img {
      object-fit: cover;
      height: 100%;
      width: 100%;
    }
  }

  /* Mobile: simple press effect */
  @media (max-width: 767px) {
    .location-card:active {
      transform: scale(0.98);
    }
  }

  /* Respect reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    .location-card {
      transition: none !important;
    }
  }
</style>
